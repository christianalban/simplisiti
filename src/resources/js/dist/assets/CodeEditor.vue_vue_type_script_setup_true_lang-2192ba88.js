import{d as f,e as p,g as m,C as g,D as h,E as _,o as v,c as w,h as C}from"./index-0d1f3313.js";const E={class:"overflow-hidden flex-1"},x="    ",M=f({__name:"CodeEditor",props:{code:{type:String,default:""},language:{type:String,default:"html"}},emits:["update:code"],setup(r,{emit:c}){const n=r,i=c,s=p(null);let t=null;const d=a=>{let l="",o=0;return a.split(new RegExp("(?=<)|(?<=>)")).forEach(function(e){e=e.trim(),e&&(e.match(/^<\/\w/)&&o--,o=Math.max(o,0),l+=x.repeat(o)+e+`
`,e.match(/^<\w[^>]*[^\/]>$/)&&o++)}),l.trim()};m(()=>{s.value&&(t=g.create(s.value,{value:d(n.code),language:n.language,minimap:{enabled:!1},automaticLayout:!0}),t.onDidChangeModelContent(()=>{i("update:code",t.getValue())}))});const{code:u}=h(n);return _(u,a=>{a!==t.getValue()&&t.setValue(a)}),(a,l)=>(v(),w("div",E,[C("div",{class:"w-full h-full",ref_key:"editor",ref:s},null,512)]))}});export{M as _};
