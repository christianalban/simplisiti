import{x as m,d as x,o as t,c as s,F as p,h as _,g as l,t as a,k as d,q as h,B as y,C as v,b as k,m as q,u as M,f as w,r as V,a as f,w as $,n as U,i as C,s as g}from"./index-ce9e0ef5.js";const S=async()=>await m.get("setting"),B=async u=>await m.put("setting",u),N={class:"flex flex-col gap-4"},D={class:"flex flex-col gap-4"},F={class:"title"},T={key:0,class:"text-sm italic"},I={class:"flex gap-4"},L={class:"flex flex-col w-1/2 gap-2"},j={class:"font-bold"},E={key:0,class:"text-sm italic"},O=["type","onUpdate:modelValue","placeholder","required"],R=["onUpdate:modelValue","placeholder","required"],z=x({__name:"Form",props:{settingMenu:{type:Object,required:!0}},setup(u){const r=u;return(i,c)=>(t(),s("div",N,[(t(!0),s(p,null,_(r.settingMenu,o=>(t(),s("div",D,[l("h2",F,a(o.label),1),o.description?(t(),s("p",T,a(o.description),1)):d("",!0),l("div",I,[(t(!0),s(p,null,_(o.items,e=>(t(),s("div",L,[l("label",j,a(e.label)+" "+a(e.required?"*":""),1),e.description?(t(),s("p",E,a(e.description),1)):d("",!0),e.type==="text"||e.type==="number"?h((t(),s("input",{key:1,type:e.type,class:"input","onUpdate:modelValue":n=>e.value=n,placeholder:e.label,required:e.required},null,8,O)),[[y,e.value]]):d("",!0),e.type==="textarea"?h((t(),s("textarea",{key:2,class:"input","onUpdate:modelValue":n=>e.value=n,placeholder:e.label,required:e.required},null,8,R)),[[v,e.value]]):d("",!0)]))),256))])]))),256))]))}}),A=["onSubmit"],G={class:"title"},H={class:"flex gap-2"},J={type:"submit",class:"button primary ml-auto"},P=x({__name:"Index",setup(u){const r=k([]),i=q(),{t:c}=M(),o=()=>{const e=r.value.flatMap(({items:n})=>n);B({items:e}).then(()=>{i.push({name:"dashboard"}),g({title:c("toasts.success"),message:c("settings.toasts.successUpdated"),type:"success"})}).catch(()=>{g({title:c("toasts.error"),message:c("settings.toasts.errorUpdated"),type:"error"})})};return w(()=>{S().then(e=>{r.value=e.data.data})}),(e,n)=>{const b=V("router-link");return t(),s("form",{onSubmit:U(o,["prevent"]),class:"flex flex-col gap-4 h-screen py-2"},[l("h1",G,a(e.$t("settings.titles.settingsList")),1),l("div",H,[f(b,{class:"button default",to:{name:"dashboard"}},{default:$(()=>[C(a(e.$t("buttons.back")),1)]),_:1}),l("button",J,a(e.$t("buttons.save")),1)]),f(z,{settingMenu:r.value},null,8,["settingMenu"])],40,A)}}});export{P as default};
