import{d as b,u as f,m as _,b as m,r as C,o as h,c as y,g as i,a as p,w,t as l,n as g,i as k,s as u}from"./index-53e5c35d.js";import{C as x}from"./Form-86c78cd7.js";import{c as B}from"./ComponentService-eab104b9.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-ee44d426.js";import"./ControlTypeSelector.vue_vue_type_script_setup_true_lang-c344180d.js";import"./Modal.vue_vue_type_script_setup_true_lang-a95a0fd5.js";import"./ResourceService-7fa2bc6e.js";import"./ResourcePreview-8344bfc6.js";import"./helpers-ddca868d.js";const N=["onSubmit"],S={class:"flex gap-4 mb-4 w-full"},U={class:"title"},V={type:"submit",class:"button primary ml-auto"},z=b({__name:"Create",setup($){const{t:s}=f(),c=_(),a=m("<div>Create your new component</div>"),n=m([{type:"text",name:"",default:""}]),r=m(""),d=()=>{B({html:a.value,variables:n.value.filter(t=>t.name!==""),name:r.value}).then(()=>{c.push({name:"components.index"}),u({title:s("toasts.success"),message:s("components.toasts.created"),type:"success"})}).catch(()=>{u({title:s("toasts.error"),message:s("components.toasts.errorCreated"),type:"error"})})};return(t,e)=>{const v=C("router-link");return h(),y("form",{onSubmit:g(d,["prevent"])},[i("div",S,[p(v,{class:"button default",to:{name:"components.index"}},{default:w(()=>[k(l(t.$t("buttons.back")),1)]),_:1},8,["to"]),i("h1",U,l(t.$t("components.titles.createComponent")),1),i("button",V,l(t.$t("buttons.save")),1)]),p(x,{code:a.value,"onUpdate:code":e[0]||(e[0]=o=>a.value=o),variables:n.value,"onUpdate:variables":e[1]||(e[1]=o=>n.value=o),name:r.value,"onUpdate:name":e[2]||(e[2]=o=>r.value=o)},null,8,["code","variables","name"])],40,N)}}});export{z as default};
