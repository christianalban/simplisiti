import{d,h as v,B as f,i as h,r as _,o as b,c as x,a as t,t as n,b as r,w,p as C,l as g,s as m}from"./index-2c6d4927.js";import{C as y}from"./Form-617872c6.js";import{a as N,m as k}from"./ComponentService-a53a64eb.js";import{v as $,c as B}from"./helpers-d1ea3d2b.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-d0c55c55.js";import"./ResourceService-a2f9024a.js";import"./LocalStorageService-09edb169.js";import"./Modal.vue_vue_type_script_setup_true_lang-0a8cfac7.js";import"./ResourcePreview-06ab6bb5.js";import"./vuedraggable.umd-ef49c065.js";import"./Dialog.vue_vue_type_script_setup_true_lang-6e8951bd.js";import"./Tabs-1722d844.js";import"./ComponentPreview.vue_vue_type_script_setup_true_lang-88a552d9.js";const S=["onSubmit"],V={class:"flex flex-col mb-4 w-full"},D={class:"title"},I={class:"flex flex-col md:flex-row gap-2 items-end"},R={class:"flex w-full gap-2"},T={class:"flex"},U={type:"submit",class:"button primary"},q={class:"ml-auto flex flex-col gap-2 md:w-1/3"},E={class:"label"},F=["value","placeholder"],Y=d({__name:"Create",setup(L){const{t:s}=v(),i=f(),e=h({id:1,name:"",html:"<div><p>Create your new component</p></div>",variables:[{type:"text",name:"",default:""}]}),c=()=>{N({html:e.value.html,variables:k(e.value.variables),name:e.value.name}).then(()=>{B(),i.push({name:"components.index"}),m({title:s("toasts.success"),message:s("components.toasts.created"),type:"success"})}).catch(()=>{m({title:s("toasts.error"),message:s("components.toasts.errorCreated"),type:"error"})})},p=o=>{e.value.name=$(o.target)};return(o,a)=>{const u=_("router-link");return b(),x("form",{class:"overflow-hidden h-full flex flex-col",onSubmit:C(c,["prevent"])},[t("div",V,[t("h1",D,n(o.$t("components.titles.createComponent")),1),t("div",I,[t("div",R,[t("div",T,[r(u,{class:"button default",to:{name:"components.index"}},{default:w(()=>[g(n(o.$t("buttons.back")),1)]),_:1},8,["to"])]),t("div",null,[t("button",U,n(o.$t("buttons.save")),1)])]),t("div",q,[t("label",E,n(o.$t("components.labels.componentName")),1),t("input",{type:"text",value:e.value.name,onInput:p,required:"",class:"input",placeholder:o.$t("components.placeholders.componentName")},null,40,F)])])]),r(y,{code:e.value.html,"onUpdate:code":a[0]||(a[0]=l=>e.value.html=l),variables:e.value.variables,"onUpdate:variables":a[1]||(a[1]=l=>e.value.variables=l),component:e.value},null,8,["code","variables","component"])],40,S)}}});export{Y as default};
