import{d as g,u as w,v as x,x as $,e as u,g as D,r as k,o as S,c as C,h as e,t as a,a as m,w as B,n as I,y as N,B as U,q as V,F as A,s as d,j as M}from"./index-0d1f3313.js";import{_ as j}from"./Form.vue_vue_type_script_setup_true_lang-cd700af0.js";import{_ as q}from"./Dialog.vue_vue_type_script_setup_true_lang-435bc5e4.js";import{a as E,d as F,b as R}from"./StyleService-a32221c0.js";import{v as T}from"./helpers-315eb150.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-2192ba88.js";const z=["onSubmit"],G={class:"flex flex-col md:flex-row justify-between items-end"},H={class:"flex flex-col gap-4 mb-4 w-full"},J={class:"title"},K={class:"flex gap-2"},L={type:"submit",class:"button primary"},O={class:"flex gap-4 w-full md:w-auto"},P={class:"flex flex-col gap-2"},Q={class:"label"},W=["value","placeholder"],X={class:"flex flex-col gap-2"},Y={class:"label whitespace-nowrap"},Z=["placeholder"],ie=g({__name:"Edit",setup(ee){const{t:l}=w(),v=x(),y=$(),i=u(""),n=u(""),c=u(!1),r=u(!1),p=+y.params.style,f=()=>{R({id:p,name:n.value,styles:i.value,is_active:!!r.value}).then(()=>{d({title:l("toasts.success"),message:l("styles.toasts.updated"),type:"success"})}).catch(()=>{d({title:l("toasts.error"),message:l("styles.toasts.errorUpdated"),type:"error"})})},h=()=>{c.value=!0},_=()=>{F(p).then(()=>{v.push({name:"styles.index"}),d({title:l("toasts.success"),message:l("styles.toasts.deleted"),type:"success"})}).catch(()=>{d({title:l("toasts.error"),message:l("styles.toasts.errorDeleted"),type:"error"})})};return D(()=>{E(p).then(({data:s})=>{const t=s.data;i.value=t.styles,n.value=t.name,r.value=t.is_active})}),(s,t)=>{const b=k("router-link");return S(),C(A,null,[e("form",{onSubmit:V(f,["prevent"]),class:"overflow-hidden h-full flex flex-col"},[e("div",G,[e("div",H,[e("h1",J,a(s.$t("styles.titles.updateStyle")),1),e("div",K,[m(b,{class:"button default",to:{name:"styles.index"}},{default:B(()=>[M(a(s.$t("buttons.back")),1)]),_:1},8,["to"]),e("button",{onClick:h,type:"button",class:"button danger"},a(s.$t("buttons.delete")),1),e("button",L,a(s.$t("buttons.save")),1)])]),e("div",O,[e("div",P,[e("label",Q,a(s.$t("styles.labels.styleName")),1),e("input",{type:"text",value:n.value,required:"",onInput:t[0]||(t[0]=o=>n.value=I(T)(o.target)),class:"input",placeholder:s.$t("styles.placeholders.styleName")},null,40,W)]),e("div",X,[e("label",Y,a(s.$t("styles.labels.styleIsActive")),1),e("div",null,[N(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>r.value=o),class:"checkbox",placeholder:s.$t("styles.placeholders.styleIsActive")},null,8,Z),[[U,r.value]])])])])]),m(j,{code:i.value,"onUpdate:code":t[2]||(t[2]=o=>i.value=o)},null,8,["code"])],40,z),m(q,{showDialog:c.value,"onUpdate:showDialog":t[3]||(t[3]=o=>c.value=o),title:s.$t("styles.dialogs.delete.title"),message:s.$t("styles.dialogs.delete.message",{name:n.value}),onConfirm:_},null,8,["showDialog","title","message"])],64)}}});export{ie as default};
