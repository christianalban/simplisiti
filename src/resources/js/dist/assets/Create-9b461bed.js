import{d as b,u as f,l as _,r as m,a as h,b as C,e as i,h as u,w as y,t as l,m as w,g,i as k,s as p}from"./index-c4739e21.js";import{_ as x}from"./Form.vue_vue_type_script_setup_true_lang-a65602e1.js";import{c as $}from"./ComponentService-507a2f7d.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-5140b6ea.js";import"./ControlTypeSelector.vue_vue_type_script_setup_true_lang-e52a8eb8.js";import"./Modal.vue_vue_type_script_setup_true_lang-65153d12.js";import"./ResourceService-024c46aa.js";import"./helpers-6321440c.js";const B=["onSubmit"],N={class:"flex gap-4 mb-4 w-full"},S={class:"title"},U={type:"submit",class:"button primary ml-auto"},z=b({__name:"Create",setup(V){const{t:s}=f(),c=_(),a=m("<div>Create your new component</div>"),n=m([{type:"text",name:"",default:""}]),r=m(""),d=()=>{$({html:a.value,variables:n.value.filter(t=>t.name!==""),name:r.value}).then(()=>{c.push({name:"components.index"}),p({title:s("toasts.success"),message:s("components.toasts.created"),type:"success"})}).catch(()=>{p({title:s("toasts.error"),message:s("components.toasts.errorCreated"),type:"error"})})};return(t,e)=>{const v=h("router-link");return g(),C("form",{onSubmit:w(d,["prevent"])},[i("div",N,[u(v,{class:"button default",to:{name:"components.index"}},{default:y(()=>[k(l(t.$t("buttons.back")),1)]),_:1},8,["to"]),i("h1",S,l(t.$t("components.titles.createComponent")),1),i("button",U,l(t.$t("buttons.save")),1)]),u(x,{code:a.value,"onUpdate:code":e[0]||(e[0]=o=>a.value=o),variables:n.value,"onUpdate:variables":e[1]||(e[1]=o=>n.value=o),name:r.value,"onUpdate:name":e[2]||(e[2]=o=>r.value=o)},null,8,["code","variables","name"])],40,B)}}});export{z as default};
