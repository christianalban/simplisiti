import{d as f,i as p,k as m,I as g,q as h,v as _,o as v,c as w,a as k}from"./index-2c6d4927.js";const x={class:"overflow-hidden flex-1"},y="    ",E=f({__name:"CodeEditor",props:{code:{type:String,default:""},language:{type:String,default:"html"}},emits:["update:code"],setup(i,{emit:r}){const n=i,c=r,s=p(null);let t=null;const d=a=>{let l="",o=0;return a.split(new RegExp("(?=<)|(?<=>)")).forEach(function(e){e=e.trim(),e&&(e.match(/^<\/\w/)&&o--,o=Math.max(o,0),l+=y.repeat(o)+e+`
`,e.match(/^<\w[^>]*[^\/]>$/)&&o++)}),l.trim()};m(()=>{s.value&&(t=g.create(s.value,{value:d(n.code),language:n.language,minimap:{enabled:!1},automaticLayout:!0}),t.onDidChangeModelContent(()=>{c("update:code",t.getValue())}))});const{code:u}=h(n);return _(u,a=>{a!==t.getValue()&&t.setValue(a)}),(a,l)=>(v(),w("div",x,[k("div",{class:"w-full h-full",ref_key:"editor",ref:s},null,512)]))}});export{E as _};
