import{b as h,d as v,e as b,o as a,c as o,h as s,F as _,i as f,A as w,j as g,t as c,B as x,l as k,u as C,f as S,g as M,r as B,a as u,w as m,v as N,s as p}from"./index-94e22fa3.js";import{_ as T}from"./Form.vue_vue_type_script_setup_true_lang-be560d03.js";const V=async()=>await h.get("setting"),I=async l=>await h.put("setting",l),j={class:"grid grid-cols-3"},A={class:"flex flex-col overflow-y-auto rounded-lg bg-gray-100 h-full"},F=["onClick"],L=s("span",{class:"before"},null,-1),U=s("span",{class:"after"},null,-1),z={class:"col-span-2 overflow-y-auto h-full"},D={key:0},E=v({__name:"Tabs",props:{tabs:{type:Array,default:[]}},setup(l){const e=b(0);return(n,d)=>(a(),o("div",j,[s("div",A,[(a(!0),o(_,null,f(l.tabs,(i,t)=>(a(),o("div",{class:w(["tab",{active:t===e.value}]),key:t,onClick:r=>e.value=t},[L,g(" "+c(i.title)+" ",1),U],10,F))),128))]),s("div",z,[(a(!0),o(_,null,f(l.tabs,(i,t)=>(a(),o("div",null,[t===e.value?(a(),o("div",D,[x(n.$slots,"default",{item:i})])):k("",!0)]))),256))])]))}}),q=["onSubmit"],G={class:"flex w-full justify-between"},H={class:"title"},J={class:"flex gap-2"},K={type:"submit",class:"button primary ml-auto"},O={class:"overflow-hidden flex-1"},P={class:"px-4"},W=v({__name:"Index",setup(l){const e=b([]),{t:n}=C(),d=()=>{const t=e.value.flatMap(({items:r})=>r);I({items:t}).then(()=>{p({title:n("toasts.success"),message:n("settings.toasts.successUpdated"),type:"success"})}).catch(()=>{p({title:n("toasts.error"),message:n("settings.toasts.errorUpdated"),type:"error"})})},i=S(()=>e.value.map(t=>({title:t.label,item:[t]})));return M(()=>{V().then(t=>{e.value=t.data.data})}),(t,r)=>{const y=B("router-link");return a(),o("form",{onSubmit:N(d,["prevent"]),class:"flex flex-col gap-4 h-full py-2"},[s("div",G,[s("h1",H,c(t.$t("settings.titles.settingsList")),1),s("div",J,[u(y,{class:"button default",to:{name:"dashboard"}},{default:m(()=>[g(c(t.$t("buttons.back")),1)]),_:1}),s("button",K,c(t.$t("buttons.save")),1)])]),s("div",O,[u(E,{class:"h-full",tabs:i.value},{default:m($=>[s("div",P,[u(T,{settingMenu:$.item.item},null,8,["settingMenu"])])]),_:1},8,["tabs"])])],40,q)}}});export{W as default};
