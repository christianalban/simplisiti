import{d as b,u as f,m as _,b as m,r as C,o as h,c as y,g as i,a as p,w as g,t as l,n as w,i as k,s as u}from"./index-e83e87ae.js";import{C as x}from"./Form-b03dfb07.js";import{c as S,m as B}from"./ComponentService-1dc706de.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-fc8dd4b3.js";import"./helpers-66e66eca.js";import"./ResourceService-97753ebe.js";import"./ControlTypeSelector.vue_vue_type_script_setup_true_lang-6d15a002.js";import"./Modal.vue_vue_type_script_setup_true_lang-38c2634f.js";import"./ResourcePreview-407239db.js";import"./Form.vue_vue_type_script_setup_true_lang-a8d9579f.js";const N=["onSubmit"],U={class:"flex gap-4 mb-4 w-full"},V={class:"title"},$={type:"submit",class:"button primary ml-auto"},A=b({__name:"Create",setup(D){const{t:o}=f(),c=_(),s=m("<div>Create your new component</div>"),a=m([{type:"text",name:"",default:""}]),n=m(""),d=()=>{S({html:s.value,variables:B(a.value),name:n.value}).then(()=>{c.push({name:"components.index"}),u({title:o("toasts.success"),message:o("components.toasts.created"),type:"success"})}).catch(()=>{u({title:o("toasts.error"),message:o("components.toasts.errorCreated"),type:"error"})})};return(r,t)=>{const v=C("router-link");return h(),y("form",{onSubmit:w(d,["prevent"])},[i("div",U,[p(v,{class:"button default",to:{name:"components.index"}},{default:g(()=>[k(l(r.$t("buttons.back")),1)]),_:1},8,["to"]),i("h1",V,l(r.$t("components.titles.createComponent")),1),i("button",$,l(r.$t("buttons.save")),1)]),p(x,{code:s.value,"onUpdate:code":t[0]||(t[0]=e=>s.value=e),variables:a.value,"onUpdate:variables":t[1]||(t[1]=e=>a.value=e),name:n.value,"onUpdate:name":t[2]||(t[2]=e=>n.value=e)},null,8,["code","variables","name"])],40,N)}}});export{A as default};
