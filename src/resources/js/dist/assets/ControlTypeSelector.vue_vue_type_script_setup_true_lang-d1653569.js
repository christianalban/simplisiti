import{_ as D}from"./Modal.vue_vue_type_script_setup_true_lang-f7ab460b.js";import{u as x}from"./ResourceService-a05096a0.js";import{R as I}from"./ResourcePreview-4b57b621.js";import{d as q,o,c as l,g as e,t as _,b as N,e as F,r as L,a as y,w as B,i as z,F as g,h as U,p as R,_ as A,f as G,k as C,z as H,A as J,j as T}from"./index-63881d29.js";import{v as K}from"./helpers-6321440c.js";const Q=["value"],W={value:"text"},X={value:"textarea"},Y={value:"resource"},Z={value:"datatable"},ee=q({__name:"VariableTypeSelector",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(s){const k=n=>n.target.value;return(n,a)=>(o(),l("select",{class:"input",value:s.modelValue,onChange:a[0]||(a[0]=b=>n.$emit("update:modelValue",k(b)))},[e("option",W,_(n.$t("components.types.text")),1),e("option",X,_(n.$t("components.types.textarea")),1),e("option",Y,_(n.$t("components.types.resource")),1),e("option",Z,_(n.$t("components.types.datatable")),1)],40,Q))}}),te={class:"picker-button-preview"},oe={class:"picker-button-placeholder"},le={class:"grid grid-cols-3 gap-2"},ne=["onClick"],ae=q({__name:"ResourcePicker",props:{modelValue:{type:[Number,String,Object,void 0],required:!0}},emits:["update:modelValue"],setup(s,{emit:k}){const n=s,a=N(!1),{resources:b,loadResources:c}=x(),u=F(()=>b.value.find(v=>v.id===n.modelValue)),d=k,p=()=>{a.value=!0},m=v=>{d("update:modelValue",v),a.value=!1},f=()=>{c()};return(v,S)=>{var M;const j=L("fa-icon");return o(),l(g,null,[e("button",{onClick:p,type:"button",class:"button secondary picker-button-container"},[e("div",te,[y(I,{url:(M=u.value)==null?void 0:M.url},null,8,["url"])]),e("span",oe,_(u.value?v.$t("components.buttons.changeResource"):v.$t("components.buttons.selectResource")),1)]),y(D,{title:v.$t("components.titles.selectResource"),showModal:a.value,"onUpdate:showModal":S[0]||(S[0]=w=>a.value=w),showCancel:!1,confirmLabel:v.$t("buttons.close")},{default:B(()=>[e("div",null,[e("button",{type:"button",onClick:f,class:"button secondary picker-refresh-button"},[y(j,{icon:"arrow-rotate-right"}),z(" "+_(v.$t("components.buttons.refresh")),1)])]),e("div",le,[(o(!0),l(g,null,U(R(b),w=>(o(),l("button",{type:"button",onClick:E=>m(w.id),class:"button primary flex flex-col gap-2 justify-center items-center"},[y(I,{url:w.url},null,8,["url"]),e("span",null,_(w.name),1)],8,ne))),256))])]),_:1},8,["title","showModal","confirmLabel"])],64)}}});const ue=A(ae,[["__scopeId","data-v-e2194470"]]),se={class:"w-52 flex"},re={class:"w-full form-group"},ce=["value","onInput","placeholder"],de=["onClick"],pe=e("th",null," Â  ",-1),me={class:"w-52 flex"},ie=["onClick"],fe=q({__name:"DataTable",props:{modelValue:{type:[Object,String,Number,void 0],required:!0},name:{type:String,required:!1}},emits:["update:modelValue"],setup(s,{emit:k}){const n=s,a=({type:t,name:r}={type:"text",name:""})=>({name:r,type:t,value:"",default:""}),b=(t="text")=>({name:"",type:t}),c=N([b()]),u=N([[a()]]),d=N(!1),p=k,m=()=>{d.value=!0},f=()=>{p("update:modelValue",{columns:c.value,rows:u.value}),d.value=!1},v=(t,r,V)=>{r.type=V,u.value.forEach(i=>{i[t].type=r.type})},S=(t,r,V)=>{r.name=K(V),u.value.forEach(i=>{i[t].name=r.name})},j=()=>{c.value.push(b()),u.value.forEach(t=>{t.push(a())})},M=()=>{const t=[];c.value.forEach(({type:r,name:V})=>{t.push(a({type:r,name:V}))}),u.value.push(t)},w=t=>{c.value.splice(t,1),u.value.forEach(r=>{r.splice(t,1)})},E=t=>{u.value.splice(t,1)};return G(()=>{n.modelValue&&typeof n.modelValue=="object"&&(c.value=n.modelValue.columns,u.value=n.modelValue.rows)}),(t,r)=>{const V=L("fa-icon");return o(),l(g,null,[e("button",{onClick:m,type:"button",class:"button secondary flex gap-2 w-full"},[e("span",null,_(t.$t("components.buttons.fillData")),1)]),y(D,{title:t.$t("components.titles.fillData"),showModal:d.value,"onUpdate:showModal":r[0]||(r[0]=i=>d.value=i),showCancel:!1,confirmLabel:t.$t("buttons.close"),resetOnClose:!1,onConfirm:f},{default:B(()=>[e("table",null,[e("thead",null,[e("tr",null,[(o(!0),l(g,null,U(c.value,(i,$)=>(o(),l("th",null,[e("div",se,[e("div",re,[e("input",{class:"input",type:"text",value:i.name,onInput:h=>S($,i,h.target),placeholder:t.$t("components.placeholders.dataName")},null,40,ce),y(ee,{class:"w-5",modelValue:i.type,"onUpdate:modelValue":h=>v($,i,h)},null,8,["modelValue","onUpdate:modelValue"]),c.value.length>1?(o(),l("button",{key:0,type:"button",class:"button danger",onClick:h=>w($)},[y(V,{icon:"minus"})],8,de)):C("",!0),$==c.value.length-1?(o(),l("button",{key:1,type:"button",class:"button primary",onClick:j},[y(V,{icon:"plus"})])):C("",!0)])])]))),256)),pe])]),e("tbody",null,[(o(!0),l(g,null,U(u.value,(i,$)=>(o(),l("tr",{key:`${$}:${s.name}`},[(o(!0),l(g,null,U(i,(h,O)=>(o(),l("td",{key:`${s.name}:${c.value[O].name}:${h.name}`},[e("div",me,[y(ye,{modelValue:h.default,"onUpdate:modelValue":P=>h.default=P,name:h.name,type:h.type},null,8,["modelValue","onUpdate:modelValue","name","type"])])]))),128)),e("td",null,[u.value.length>1?(o(),l("button",{key:0,type:"button",class:"button danger",onClick:h=>E($)},[y(V,{icon:"minus"})],8,ie)):C("",!0),$==u.value.length-1?(o(),l("button",{key:1,type:"button",class:"button secondary",onClick:M},[y(V,{icon:"plus"})])):C("",!0)])]))),128))])])]),_:1},8,["title","showModal","confirmLabel"])],64)}}}),ve=["value","placeholder"],he=["placeholder"],ye=q({__name:"ControlTypeSelector",props:{type:{type:String,required:!0},modelValue:{type:[String,Number,Object,null,void 0],required:!0},name:{type:String,required:!0}},emits:["update:modelValue"],setup(s,{emit:k}){const n=s,a=k,b=p=>{a("update:modelValue",p.target.value)},c=p=>{a("update:modelValue",p)},u=p=>{a("update:modelValue",p)},{type:d}=H(n);return J(d,()=>{a("update:modelValue","")}),(p,m)=>(o(),l(g,null,[R(d)==="text"?(o(),l("input",{key:0,type:"text",class:"input w-full",value:s.modelValue,onInput:m[0]||(m[0]=f=>b(f)),placeholder:p.$t("components.placeholders.defaultValue")},null,40,ve)):C("",!0),R(d)==="textarea"?(o(),l("textarea",{key:1,class:"input w-full",onInput:m[1]||(m[1]=f=>b(f)),placeholder:p.$t("components.placeholders.defaultValue")},_(s.modelValue),41,he)):R(d)==="resource"?(o(),T(ue,{key:2,modelValue:s.modelValue,"onUpdate:modelValue":m[2]||(m[2]=f=>c(f))},null,8,["modelValue"])):R(d)==="datatable"?(o(),T(fe,{key:3,name:s.name,modelValue:s.modelValue,"onUpdate:modelValue":m[3]||(m[3]=f=>u(f))},null,8,["name","modelValue"])):C("",!0)],64))}});export{ee as _,ye as a};
