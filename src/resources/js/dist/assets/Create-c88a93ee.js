import{d,u as v,v as f,e as h,r as _,o as b,c as x,h as t,t as n,a as r,w,q as C,j as g,s as m}from"./index-433b52f5.js";import{C as y}from"./Form-3901ed7e.js";import{a as N,m as k}from"./ComponentService-99863168.js";import{v as $,c as S}from"./helpers-c8f4a4b7.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-f12e2088.js";import"./ResourceService-ae4b44d0.js";import"./LocalStorageService-3bb19522.js";import"./Modal.vue_vue_type_script_setup_true_lang-790bd300.js";import"./ResourcePreview-e03df8ee.js";import"./vuedraggable.umd-b7e92c22.js";import"./Dialog.vue_vue_type_script_setup_true_lang-303a7935.js";import"./Tabs-1e5e693f.js";import"./ComponentPreview.vue_vue_type_script_setup_true_lang-99f5e54a.js";const B=["onSubmit"],V={class:"flex flex-col mb-4 w-full"},q={class:"title"},D={class:"flex flex-col md:flex-row gap-2 items-end"},I={class:"flex w-full gap-2"},R={class:"flex"},T={type:"submit",class:"button primary"},U={class:"ml-auto flex flex-col gap-2 md:w-1/3"},j={class:"label"},E=["value","placeholder"],Y=d({__name:"Create",setup(F){const{t:s}=v(),i=f(),e=h({id:1,name:"",html:"<div><p>Create your new component</p></div>",variables:[{type:"text",name:"",default:""}]}),c=()=>{N({html:e.value.html,variables:k(e.value.variables),name:e.value.name}).then(()=>{S(),i.push({name:"components.index"}),m({title:s("toasts.success"),message:s("components.toasts.created"),type:"success"})}).catch(()=>{m({title:s("toasts.error"),message:s("components.toasts.errorCreated"),type:"error"})})},p=o=>{e.value.name=$(o.target)};return(o,a)=>{const u=_("router-link");return b(),x("form",{class:"overflow-hidden h-full flex flex-col",onSubmit:C(c,["prevent"])},[t("div",V,[t("h1",q,n(o.$t("components.titles.createComponent")),1),t("div",D,[t("div",I,[t("div",R,[r(u,{class:"button default",to:{name:"components.index"}},{default:w(()=>[g(n(o.$t("buttons.back")),1)]),_:1},8,["to"])]),t("div",null,[t("button",T,n(o.$t("buttons.save")),1)])]),t("div",U,[t("label",j,n(o.$t("components.labels.componentName")),1),t("input",{type:"text",value:e.value.name,onInput:p,required:"",class:"input",placeholder:o.$t("components.placeholders.componentName")},null,40,E)])])]),r(y,{code:e.value.html,"onUpdate:code":a[0]||(a[0]=l=>e.value.html=l),variables:e.value.variables,"onUpdate:variables":a[1]||(a[1]=l=>e.value.variables=l),component:e.value},null,8,["code","variables","component"])],40,B)}}});export{Y as default};
