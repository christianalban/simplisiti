import{d as h,u as w,q as D,x as S,e as r,g as $,r as k,o as C,c as U,h as a,t as u,a as p,w as x,v as A,F as B,s as d,j as N}from"./index-781ff58d.js";import{_ as V}from"./Form.vue_vue_type_script_setup_true_lang-ca526aca.js";import{_ as E}from"./Dialog.vue_vue_type_script_setup_true_lang-184c06a1.js";import{a as F,d as I,b as M}from"./StyleService-9ddb392a.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-ec25e227.js";import"./helpers-73a2380c.js";const R=["onSubmit"],T={class:"flex flex-col gap-4 mb-4 w-full"},j={class:"title"},q={class:"flex gap-2"},z={type:"submit",class:"button primary"},Q=h({__name:"Edit",setup(G){const{t}=w(),v=D(),y=S(),n=r(""),l=r(""),m=r(!1),i=r(!1),c=+y.params.style,f=()=>{M({id:c,name:l.value,styles:n.value,is_active:!!i.value}).then(()=>{d({title:t("toasts.success"),message:t("styles.toasts.updated"),type:"success"})}).catch(()=>{d({title:t("toasts.error"),message:t("styles.toasts.errorUpdated"),type:"error"})})},g=()=>{m.value=!0},_=()=>{I(c).then(()=>{v.push({name:"styles.index"}),d({title:t("toasts.success"),message:t("styles.toasts.deleted"),type:"success"})}).catch(()=>{d({title:t("toasts.error"),message:t("styles.toasts.errorDeleted"),type:"error"})})};return $(()=>{F(c).then(({data:s})=>{const e=s.data;n.value=e.styles,l.value=e.name,i.value=e.is_active})}),(s,e)=>{const b=k("router-link");return C(),U(B,null,[a("form",{onSubmit:A(f,["prevent"])},[a("div",T,[a("h1",j,u(s.$t("styles.titles.updateStyle")),1),a("div",q,[p(b,{class:"button default",to:{name:"styles.index"}},{default:x(()=>[N(u(s.$t("buttons.back")),1)]),_:1},8,["to"]),a("button",{onClick:g,type:"button",class:"button danger"},u(s.$t("buttons.delete")),1),a("button",z,u(s.$t("buttons.save")),1)])]),p(V,{code:n.value,"onUpdate:code":e[0]||(e[0]=o=>n.value=o),name:l.value,"onUpdate:name":e[1]||(e[1]=o=>l.value=o),isActive:i.value,"onUpdate:isActive":e[2]||(e[2]=o=>i.value=o)},null,8,["code","name","isActive"])],40,R),p(E,{showDialog:m.value,"onUpdate:showDialog":e[3]||(e[3]=o=>m.value=o),title:s.$t("styles.dialogs.delete.title"),message:s.$t("styles.dialogs.delete.message",{name:l.value}),onConfirm:_},null,8,["showDialog","title","message"])],64)}}});export{Q as default};
