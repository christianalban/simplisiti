import{_ as U}from"./Modal.vue_vue_type_script_setup_true_lang-d48c2bb0.js";import{u as O}from"./ResourceService-e57d07b0.js";import{d as M,g as l,b as a,e as t,t as C,r as k,c as F,k as w,h as $,w as q,F as _,f as S,p as R,o as x,a as P,bb as z,bu as A,j as N}from"./index-2c2285d1.js";import{v as G}from"./helpers-6321440c.js";const H=["value"],J={value:"text"},K={value:"resource"},Q={value:"datatable"},W=M({__name:"VariableTypeSelector",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(d){const g=s=>s.target.value;return(s,n)=>(l(),a("select",{class:"input",value:d.modelValue,onChange:n[0]||(n[0]=h=>s.$emit("update:modelValue",g(h)))},[t("option",J,C(s.$t("components.types.text")),1),t("option",K,C(s.$t("components.types.resource")),1),t("option",Q,C(s.$t("components.types.datatable")),1)],40,H))}}),X={class:"w-4 flex items-center justify-center"},Y=["src","alt"],Z={class:"grid grid-cols-3 gap-2"},ee=["onClick"],te=["src","alt"],le=M({__name:"ResourcePicker",props:{modelValue:{type:[Number,String,Object,void 0],required:!0}},emits:["update:modelValue"],setup(d,{emit:g}){const s=d,n=k(!1),{resources:h}=O(),u=F(()=>h.value.find(o=>o.id===s.modelValue)),r=g,p=()=>{n.value=!0},i=o=>{r("update:modelValue",o),n.value=!1};return(o,v)=>(l(),a(_,null,[t("button",{onClick:p,type:"button",class:"button secondary flex gap-2 w-full"},[t("span",null,C(u.value?o.$t("components.buttons.changeResource"):o.$t("components.buttons.selectResource")),1),t("div",X,[u.value?(l(),a("img",{key:0,src:u.value.url,alt:u.value.name,class:"w-full"},null,8,Y)):w("",!0)])]),$(U,{title:o.$t("components.titles.selectResource"),showModal:n.value,"onUpdate:showModal":v[0]||(v[0]=b=>n.value=b),showCancel:!1,confirmLabel:o.$t("buttons.close")},{default:q(()=>[t("div",Z,[(l(!0),a(_,null,S(R(h),b=>(l(),a("button",{type:"button",onClick:j=>i(b.id),class:"button primary flex flex-col gap-2 justify-center items-center"},[t("img",{src:b.url,alt:b.name,class:"h-8 object-cover"},null,8,te),t("span",null,C(b.name),1)],8,ee))),256))])]),_:1},8,["title","showModal","confirmLabel"])],64))}}),oe={class:"w-52 flex"},ae={class:"w-full form-group"},ne=["value","onInput","placeholder"],ue=["onClick"],se=t("th",null," Â  ",-1),re={class:"w-52 flex"},ce=["onClick"],de=M({__name:"DataTable",props:{modelValue:{type:[Object,String,Number,void 0],required:!0},name:{type:String,required:!1}},emits:["update:modelValue"],setup(d,{emit:g}){const s=d,n=({type:e,name:c}={type:"text",name:""})=>({name:c,type:e,value:"",default:""}),h=(e="text")=>({name:"",type:e}),u=k([h()]),r=k([[n()]]),p=k(!1),i=g,o=()=>{p.value=!0},v=()=>{i("update:modelValue",{columns:u.value,rows:r.value}),p.value=!1},b=(e,c,y)=>{c.type=y,r.value.forEach(m=>{m[e].type=c.type})},j=(e,c,y)=>{c.name=G(y),r.value.forEach(m=>{m[e].name=c.name})},E=()=>{u.value.push(h()),r.value.forEach(e=>{e.push(n())})},D=()=>{const e=[];u.value.forEach(({type:c,name:y})=>{e.push(n({type:c,name:y}))}),r.value.push(e)},L=e=>{u.value.splice(e,1),r.value.forEach(c=>{c.splice(e,1)})},T=e=>{r.value.splice(e,1)};return x(()=>{s.modelValue&&typeof s.modelValue=="object"&&(u.value=s.modelValue.columns,r.value=s.modelValue.rows)}),(e,c)=>{const y=P("fa-icon");return l(),a(_,null,[t("button",{onClick:o,type:"button",class:"button secondary flex gap-2 w-full"},[t("span",null,C(e.$t("components.buttons.fillData")),1)]),$(U,{title:e.$t("components.titles.fillData"),showModal:p.value,"onUpdate:showModal":c[0]||(c[0]=m=>p.value=m),showCancel:!1,confirmLabel:e.$t("buttons.close"),resetOnClose:!1,onConfirm:v},{default:q(()=>[t("table",null,[t("thead",null,[t("tr",null,[(l(!0),a(_,null,S(u.value,(m,V)=>(l(),a("th",null,[t("div",oe,[t("div",ae,[t("input",{class:"input",type:"text",value:m.name,onInput:f=>j(V,m,f.target),placeholder:e.$t("components.placeholders.dataName")},null,40,ne),$(W,{class:"w-5",modelValue:m.type,"onUpdate:modelValue":f=>b(V,m,f)},null,8,["modelValue","onUpdate:modelValue"]),u.value.length>1?(l(),a("button",{key:0,type:"button",class:"button danger",onClick:f=>L(V)},[$(y,{icon:"minus"})],8,ue)):w("",!0),V==u.value.length-1?(l(),a("button",{key:1,type:"button",class:"button primary",onClick:E},[$(y,{icon:"plus"})])):w("",!0)])])]))),256)),se])]),t("tbody",null,[(l(!0),a(_,null,S(r.value,(m,V)=>(l(),a("tr",{key:`${V}:${d.name}`},[(l(!0),a(_,null,S(m,(f,B)=>(l(),a("td",{key:`${d.name}:${u.value[B].name}:${f.name}`},[t("div",re,[$(pe,{modelValue:f.default,"onUpdate:modelValue":I=>f.default=I,name:f.name,type:f.type},null,8,["modelValue","onUpdate:modelValue","name","type"])])]))),128)),t("td",null,[r.value.length>1?(l(),a("button",{key:0,type:"button",class:"button danger",onClick:f=>T(V)},[$(y,{icon:"minus"})],8,ce)):w("",!0),V==r.value.length-1?(l(),a("button",{key:1,type:"button",class:"button secondary",onClick:D},[$(y,{icon:"plus"})])):w("",!0)])]))),128))])])]),_:1},8,["title","showModal","confirmLabel"])],64)}}}),me=["value","placeholder"],pe=M({__name:"ControlTypeSelector",props:{type:{type:String,required:!0},modelValue:{type:[String,Number,Object,null,void 0],required:!0},name:{type:String,required:!0}},emits:["update:modelValue"],setup(d,{emit:g}){const s=d,n=g,h=i=>{n("update:modelValue",i.target.value)},u=i=>{n("update:modelValue",i)},r=i=>{n("update:modelValue",i)},{type:p}=z(s);return A(p,()=>{n("update:modelValue","")}),(i,o)=>R(p)==="text"?(l(),a("input",{key:0,type:"text",class:"input",value:d.modelValue,onInput:o[0]||(o[0]=v=>h(v)),placeholder:i.$t("components.placeholders.defaultValue")},null,40,me)):R(p)==="resource"?(l(),N(le,{key:1,modelValue:d.modelValue,"onUpdate:modelValue":o[1]||(o[1]=v=>u(v))},null,8,["modelValue"])):R(p)==="datatable"?(l(),N(de,{key:2,name:d.name,modelValue:d.modelValue,"onUpdate:modelValue":o[2]||(o[2]=v=>r(v))},null,8,["name","modelValue"])):w("",!0)}});export{W as _,pe as a,le as b,de as c};
