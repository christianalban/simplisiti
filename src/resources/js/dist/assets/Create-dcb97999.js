import{d as v,e as o,q as c,u as f,o as E,c as M,a as l,v as P,s as u}from"./index-f8b35c1d.js";import{c as T}from"./PageService-d913b19d.js";import{P as U,a as b}from"./Form-f1dceb40.js";import"./helpers-d1a74e74.js";import"./vuedraggable.umd-a4699f46.js";import"./ComponentService-0a520306.js";import"./Group.vue_vue_type_script_setup_true_lang-866b4f93.js";import"./Accordion.vue_vue_type_script_setup_true_lang-d68a1093.js";import"./ComponentFloatingPreview-48c2d3c5.js";import"./ResourceService-48f5d890.js";import"./LocalStorageService-7b5ceb56.js";import"./Modal.vue_vue_type_script_setup_true_lang-a17e35dd.js";import"./ResourcePreview-5c8e1b18.js";import"./Dialog.vue_vue_type_script_setup_true_lang-b3685889.js";const C=["onSubmit"],A=v({__name:"Create",setup(k){const s=o(""),r=o(""),n=o(""),i=o([]),m=c(),{t:a}=f(),p=o("adding-component"),d=()=>{T({name:s.value,url:r.value,sections:i.value,title:n.value}).then(()=>{m.push({name:"pages.index"}),u({title:a("toasts.success"),message:a("pages.toasts.created"),type:"success"})}).catch(()=>{u({title:a("toasts.error"),message:a("pages.toasts.errorCreated"),type:"error"})})};return(g,e)=>(E(),M("form",{onSubmit:P(d,["prevent"])},[l(U,{title:g.$t("pages.titles.createPage"),name:s.value,"onUpdate:name":e[0]||(e[0]=t=>s.value=t),url:r.value,"onUpdate:url":e[1]||(e[1]=t=>r.value=t),pageTitle:n.value,"onUpdate:pageTitle":e[2]||(e[2]=t=>n.value=t),pageEditionMode:p.value},null,8,["title","name","url","pageTitle","pageEditionMode"]),l(b,{sections:i.value,"onUpdate:sections":e[3]||(e[3]=t=>i.value=t),pageEditionMode:p.value,"onUpdate:pageEditionMode":e[4]||(e[4]=t=>p.value=t)},null,8,["sections","pageEditionMode"])],40,C))}});export{A as default};
