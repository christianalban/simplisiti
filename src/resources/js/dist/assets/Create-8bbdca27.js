import{d,e as a,v,u as g,o as f,c as P,a as l,q as T,s as p}from"./index-0d1f3313.js";import{i as U,c as b}from"./helpers-315eb150.js";import{P as C,a as k}from"./Form-aa9e9e81.js";import"./vuedraggable.umd-174a2cc0.js";import"./Dialog.vue_vue_type_script_setup_true_lang-435bc5e4.js";import"./ComponentService-3dc17eda.js";import"./ComponentFloatingPreview-01b5b00d.js";import"./Accordion.vue_vue_type_script_setup_true_lang-a1ef40dd.js";import"./ComponentPreview.vue_vue_type_script_setup_true_lang-d98e3bdc.js";import"./ResourceService-303ee50b.js";import"./LocalStorageService-61e16c7a.js";import"./Modal.vue_vue_type_script_setup_true_lang-67cc9f5d.js";import"./ResourcePreview-8f4c5072.js";const w=["onSubmit"],$=d({__name:"Create",setup(x){const o=a(""),r=a(""),n=a(""),i=a([]),u=v(),{t:s}=g(),m=()=>{U({name:o.value,url:r.value,sections:i.value,title:n.value}).then(()=>{b(),u.push({name:"pages.index"}),p({title:s("toasts.success"),message:s("pages.toasts.created"),type:"success"})}).catch(()=>{p({title:s("toasts.error"),message:s("pages.toasts.errorCreated"),type:"error"})})};return(c,e)=>(f(),P("form",{onSubmit:T(m,["prevent"])},[l(C,{title:c.$t("pages.titles.createPage"),name:o.value,"onUpdate:name":e[0]||(e[0]=t=>o.value=t),url:r.value,"onUpdate:url":e[1]||(e[1]=t=>r.value=t),pageTitle:n.value,"onUpdate:pageTitle":e[2]||(e[2]=t=>n.value=t)},null,8,["title","name","url","pageTitle"]),l(k,{sections:i.value,"onUpdate:sections":e[3]||(e[3]=t=>i.value=t)},null,8,["sections"])],40,w))}});export{$ as default};
