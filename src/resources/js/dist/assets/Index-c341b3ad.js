import{y as b,d as m,b as t,F as p,f as _,g as s,e as l,t as a,k as d,z as h,bq as x,bt as v,r as k,l as q,u as M,o as w,a as V,h as f,w as $,m as U,i as S,s as g}from"./index-ce86981b.js";const C=async()=>await b.get("setting"),N=async u=>await b.put("setting",u),B={class:"flex flex-col gap-4"},D={class:"flex flex-col gap-4"},F={class:"title"},T={key:0,class:"text-sm italic"},I={class:"flex gap-4"},L={class:"flex flex-col w-1/2 gap-2"},j={class:"font-bold"},z={key:0,class:"text-sm italic"},E=["type","onUpdate:modelValue","placeholder","required"],O=["onUpdate:modelValue","placeholder","required"],R=m({__name:"Form",props:{settingMenu:{type:Object,required:!0}},setup(u){const r=u;return(i,c)=>(s(),t("div",B,[(s(!0),t(p,null,_(r.settingMenu,o=>(s(),t("div",D,[l("h2",F,a(o.label),1),o.description?(s(),t("p",T,a(o.description),1)):d("",!0),l("div",I,[(s(!0),t(p,null,_(o.items,e=>(s(),t("div",L,[l("label",j,a(e.label)+" "+a(e.required?"*":""),1),e.description?(s(),t("p",z,a(e.description),1)):d("",!0),e.type==="text"||e.type==="number"?h((s(),t("input",{key:1,type:e.type,class:"input","onUpdate:modelValue":n=>e.value=n,placeholder:e.label,required:e.required},null,8,E)),[[x,e.value]]):d("",!0),e.type==="textarea"?h((s(),t("textarea",{key:2,class:"input","onUpdate:modelValue":n=>e.value=n,placeholder:e.label,required:e.required},null,8,O)),[[v,e.value]]):d("",!0)]))),256))])]))),256))]))}}),A=["onSubmit"],G={class:"title"},H={class:"flex gap-2"},J={type:"submit",class:"button primary ml-auto"},P=m({__name:"Index",setup(u){const r=k([]),i=q(),{t:c}=M(),o=()=>{const e=r.value.flatMap(({items:n})=>n);N({items:e}).then(()=>{i.push({name:"dashboard"}),g({title:c("toasts.success"),message:c("settings.toasts.successUpdated"),type:"success"})}).catch(()=>{g({title:c("toasts.error"),message:c("settings.toasts.errorUpdated"),type:"error"})})};return w(()=>{C().then(e=>{r.value=e.data.data})}),(e,n)=>{const y=V("router-link");return s(),t("form",{onSubmit:U(o,["prevent"]),class:"flex flex-col gap-4 h-screen py-2"},[l("h1",G,a(e.$t("settings.titles.settingsList")),1),l("div",H,[f(y,{class:"button default",to:{name:"dashboard"}},{default:$(()=>[S(a(e.$t("buttons.back")),1)]),_:1}),l("button",J,a(e.$t("buttons.save")),1)]),f(R,{settingMenu:r.value},null,8,["settingMenu"])],40,A)}}});export{P as default};
