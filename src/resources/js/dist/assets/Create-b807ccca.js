import{d as f,u as b,q as _,e as m,r as h,o as C,c as x,h as s,t as i,a as p,w,v as y,j as g,s as c}from"./index-163eb771.js";import{C as k}from"./Form-351dbaf8.js";import{c as S,m as B}from"./ComponentService-e767a8ca.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-97ab9b60.js";import"./helpers-73a2380c.js";import"./ResourceService-f93a204f.js";import"./ControlTypeSelector.vue_vue_type_script_setup_true_lang-500d89c0.js";import"./Modal.vue_vue_type_script_setup_true_lang-ec2ad826.js";import"./ResourcePreview-c439d933.js";import"./Form.vue_vue_type_script_setup_true_lang-5025117c.js";const N=["onSubmit"],U={class:"flex flex-col gap-4 mb-4 w-full"},V={class:"title"},$={class:"flex gap-2"},D={type:"submit",class:"button primary"},G=f({__name:"Create",setup(T){const{t:o}=b(),u=_(),a=m("<div>Create your new component</div>"),n=m([{type:"text",name:"",default:""}]),r=m(""),d=()=>{S({html:a.value,variables:B(n.value),name:r.value}).then(()=>{u.push({name:"components.index"}),c({title:o("toasts.success"),message:o("components.toasts.created"),type:"success"})}).catch(()=>{c({title:o("toasts.error"),message:o("components.toasts.errorCreated"),type:"error"})})};return(l,e)=>{const v=h("router-link");return C(),x("form",{class:"overflow-hidden h-full flex flex-col",onSubmit:y(d,["prevent"])},[s("div",U,[s("h1",V,i(l.$t("components.titles.createComponent")),1),s("div",$,[p(v,{class:"button default",to:{name:"components.index"}},{default:w(()=>[g(i(l.$t("buttons.back")),1)]),_:1},8,["to"]),s("button",D,i(l.$t("buttons.save")),1)])]),p(k,{code:a.value,"onUpdate:code":e[0]||(e[0]=t=>a.value=t),variables:n.value,"onUpdate:variables":e[1]||(e[1]=t=>n.value=t),name:r.value,"onUpdate:name":e[2]||(e[2]=t=>r.value=t)},null,8,["code","variables","name"])],40,N)}}});export{G as default};
