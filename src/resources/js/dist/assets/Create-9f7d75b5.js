import{d as h,u as _,q as b,e as m,r as x,o as C,c as w,h as e,t as a,a as c,w as y,v as g,j as N,s as p}from"./index-c9121d9d.js";import{C as k}from"./Form-6fae968d.js";import{c as $,m as S}from"./ComponentService-ae6355e8.js";import{v as B}from"./helpers-d1a74e74.js";import"./CodeEditor.vue_vue_type_script_setup_true_lang-fb90319b.js";import"./ResourceService-86b075d1.js";import"./LocalStorageService-3392df23.js";import"./Modal.vue_vue_type_script_setup_true_lang-9eb2bca6.js";import"./ResourcePreview-9dbeb203.js";import"./vuedraggable.umd-fb6795ba.js";import"./PageService-9a20781d.js";import"./Dialog.vue_vue_type_script_setup_true_lang-44b3b69d.js";import"./Form.vue_vue_type_script_setup_true_lang-ccaa44db.js";const V=["onSubmit"],q={class:"flex flex-col mb-4 w-full"},D={class:"title"},I={class:"flex gap-2 items-end"},T={class:"flex"},U={type:"submit",class:"button primary"},j={class:"ml-auto flex flex-col gap-2 md:w-1/3"},E={class:"label"},F=["value","placeholder"],Y=h({__name:"Create",setup(M){const{t:o}=_(),u=b(),n=m("<div>Create your new component</div>"),l=m([{type:"text",name:"",default:""}]),r=m(""),d=()=>{$({html:n.value,variables:S(l.value),name:r.value}).then(()=>{u.push({name:"components.index"}),p({title:o("toasts.success"),message:o("components.toasts.created"),type:"success"})}).catch(()=>{p({title:o("toasts.error"),message:o("components.toasts.errorCreated"),type:"error"})})},v=t=>{r.value=B(t.target)};return(t,s)=>{const f=x("router-link");return C(),w("form",{class:"overflow-hidden h-full flex flex-col",onSubmit:g(d,["prevent"])},[e("div",q,[e("h1",D,a(t.$t("components.titles.createComponent")),1),e("div",I,[e("div",T,[c(f,{class:"button default",to:{name:"components.index"}},{default:y(()=>[N(a(t.$t("buttons.back")),1)]),_:1},8,["to"])]),e("div",null,[e("button",U,a(t.$t("buttons.save")),1)]),e("div",j,[e("label",E,a(t.$t("components.labels.componentName")),1),e("input",{type:"text",value:r.value,onInput:v,required:"",class:"input",placeholder:t.$t("components.placeholders.componentName")},null,40,F)])])]),c(k,{code:n.value,"onUpdate:code":s[0]||(s[0]=i=>n.value=i),variables:l.value,"onUpdate:variables":s[1]||(s[1]=i=>l.value=i)},null,8,["code","variables"])],40,V)}}});export{Y as default};
