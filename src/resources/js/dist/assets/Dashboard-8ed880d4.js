import{g as j}from"./ComponentService-13af19d2.js";import{g as D,c as T}from"./helpers-04f3f619.js";import{g as F,d as H,h as L,i as c,j as g,k as R,r as y,o as a,c as l,a as t,t as o,b as d,l as r,F as p,e as k,s as C,m as $,f as w,n as A,w as E}from"./index-c42ec8ac.js";import{g as I}from"./StyleService-413f7e5d.js";import{g as M}from"./ScriptService-d4ce4ad9.js";import{g as P}from"./ResourceService-bf8c5a9c.js";const q=async()=>await F.delete("cache/clear-all"),z={class:"text-2xl font-black text-gray-800"},G={class:"mb-6 text-gray-600"},J={class:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-x-4 gap-y-8"},K={class:"rounded-xl bg-white p-10 shadow-md col-span-1 2xl:col-span-2"},O={class:"title mb-2"},Q={class:"tool-status"},U=t("hr",{class:"my-4"},null,-1),W={class:"tool-status hover:underline"},X={key:1},Y=t("div",{class:"col-span-1 hidden lg:block"},null,-1),Z={class:"rounded-xl bg-white p-10 shadow-md"},ee={class:"title"},te={class:"text-gray-600"},ie=H({__name:"Dashboard",setup(se){const{t:i}=L(),m=c(0),_=c(0),f=c(0),b=c(0),v=c(0),h=c(!1),x=g(()=>[{counter:m.value,label:"components",icon:"cubes"},{counter:_.value,label:"pages",icon:"pager"},{counter:f.value,label:"styles",icon:["fab","css3"]},{counter:b.value,label:"scripts",icon:["fab","js"]},{counter:v.value,label:"resources",icon:"photo-film"}]),S=g(()=>x.value.filter(e=>e.counter)),B=()=>{h.value=!0,T(),q().then(()=>{C({title:i("toasts.success"),message:i("cache.toasts.success"),type:"success"})}).catch(()=>{C({title:i("toasts.error"),message:i("cache.toasts.error"),type:"error"})}).finally(()=>{h.value=!1})};R(()=>{j().then(e=>{m.value=e.data.data.length}),D().then(e=>{_.value=e.data.data.length}),I().then(e=>{f.value=e.data.data.length}),M().then(e=>{b.value=e.data.data.length}),P().then(e=>{v.value=e.data.data.length})});const N=g(()=>{const u=new Date().getHours();return u>=6&&u<12?"titles.greetings.morning":u>=12&&u<18?"titles.greetings.afternoon":"titles.greetings.night"});return(e,u)=>{const n=y("fa-icon"),V=y("router-link");return a(),l(p,null,[t("h1",z,o(e.$t(N.value)),1),t("p",G,o(e.$t("titles.projectStatus")),1),t("div",J,[t("div",K,[t("h3",O,[d(n,{class:"text-2xl mr-2",icon:"list-check"}),r(" "+o(e.$t("titles.status")),1)]),t("ul",null,[(a(!0),l(p,null,k(x.value,s=>(a(),l("li",Q,[s.counter?w("",!0):(a(),$(n,{key:0,class:"text-yellow-500",icon:"triangle-exclamation"})),s.counter?(a(),$(n,{key:1,class:"text-green-500",icon:"check"})):w("",!0),r(" "+o(A(i)(`status.${s.label}`,s.counter)),1)]))),256))]),U,t("ul",null,[t("li",W,[h.value?(a(),l("p",X,[d(n,{class:"text-blue-500 mr-2 animate-spin",icon:"arrows-rotate"}),r(" "+o(e.$t("status.cacheClearing")),1)])):(a(),l("button",{key:0,onClick:B},[d(n,{class:"text-blue-500 mr-2",icon:"brush"}),r(" "+o(e.$t("status.cacheClear")),1)]))])])]),Y,(a(!0),l(p,null,k(S.value,s=>(a(),l("div",Z,[t("h3",ee,[d(n,{class:"text-2xl mr-2",icon:s.icon},null,8,["icon"]),r(" "+o(e.$t(`titles.${s.label}`)),1)]),t("p",te,o(e.$t(`status.helps.${s.label}`)),1),t("div",null,[d(V,{class:"underline text-blue-600",to:{name:`${s.label}.index`}},{default:E(()=>[r(o(e.$t("status.helps.startHere")),1)]),_:2},1032,["to"])])]))),256))])],64)}}});export{ie as default};
